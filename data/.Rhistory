library(stringr)
install.packages('stringr')
install.packages('lubridate')
install.packages('scales')
install.packages('dplyr')
install.packages('ggplot')
install.packages('ggplot2')
install.packages('ggplot2')
source('~/.active-rstudio-document', echo=TRUE)
rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally() %>%
mutate(is.first = row_number() == 1) %>%
ungroup() %>%
head(10) %>%
arrange(date) %>%
ggplot(aes(date, n, alpha=is.first)) +
geom_bar(stat='identity') +
theme(legend.position='none') +
scale_alpha_manual(values=c(0, 1)) +
ylab('bus trips')
data <- rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally()
View(data)
data <- rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally() %>%
arrange(desc(date))
View(data)
data <- rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally() %>%
arrange(date)
rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally() %>%
mutate(is.first = row_number() == 1) %>%
ungroup() %>%
head(10) %>%
arrange(date) %>%
ggplot(aes(date, n, alpha=is.first)) +
geom_bar(stat='identity') +
theme(legend.position='none') +
scale_alpha_manual(values=c(0, 1)) +
ylab('bus trips')
rawdata %>%
filter(errortype == '') %>%
mutate(date = dmy(date)) %>%
group_by(date) %>%
tally() %>%
mutate(is.first = row_number() == 1) %>%
ungroup() %>%
arrange(date) %>%
ggplot(aes(date, n)) +
geom_bar(stat='identity') +
theme(legend.position='none') +
scale_alpha_manual(values=c(0, 1)) +
ylab('bus trips')
write.csv(data, file='output/trips-daily.csv', row.names=FALSE)
